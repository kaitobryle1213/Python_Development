{% extends 'base.html' %}

{% block title %}Dashboard - POS System{% endblock %}

{% block content %}
<div class="pos-container-modern">
    <!-- Header Section -->
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
        <h1 style="margin: 0; color: #333; font-size: 28px;">ğŸ  Welcome, {{ user.first_name|default:user.username }}!</h1>
        <a href="{% url 'logout' %}" class="btn-cancel-modern" style="margin: 0;">ğŸšª Logout</a>
    </div>
    

    <!-- Messages -- Double Entry -->
    {% if messages %}
        <div class="messages" style="margin-bottom: 20px;">
            {% for message in messages %}
                <div class="alert alert-{{ message.tags }}" style="padding: 4px 6px; border-radius: 8px; margin-bottom: 10px;">
                    <!--{{ message }}-->
                </div>
            {% endfor %}
        </div>
    {% endif %}
    


    <!-- User Information Card -->
     <!--Hide this for Final Deployment
    <div class="form-card" style="margin-bottom: 30px;">
        <div class="card-header" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
            <h2 style="margin: 0; display: flex; align-items: center; gap: 10px;">ğŸ‘¤ User Information</h2>
        </div>
        <div class="card-body">
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                <div>
                    <label style="display: block; font-weight: 600; color: #667eea; font-size: 12px; text-transform: uppercase; margin-bottom: 8px;">Username</label>
                    <p style="margin: 0; font-size: 16px; color: #333;">{{ user.username }}</p>
                </div>
                <div>
                    <label style="display: block; font-weight: 600; color: #667eea; font-size: 12px; text-transform: uppercase; margin-bottom: 8px;">Full Name</label>
                    <p style="margin: 0; font-size: 16px; color: #333;">{{ user.first_name|default:"N/A" }}</p>
                </div>
                <div>
                    <label style="display: block; font-weight: 600; color: #667eea; font-size: 12px; text-transform: uppercase; margin-bottom: 8px;">Role</label>
                    <p style="margin: 0; font-size: 16px; color: #333;">
                        {% if user.is_staff %}
                            <span style="display: inline-block; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 4px 12px; border-radius: 20px; font-size: 14px;">Admin</span>
                        {% elif user.is_cashier %}
                            <span style="display: inline-block; background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%); color: white; padding: 4px 12px; border-radius: 20px; font-size: 14px;">User</span>
                        {% else %}
                            <span style="display: inline-block; background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%); color: white; padding: 4px 12px; border-radius: 20px; font-size: 14px;">User</span>
                        {% endif %}
                    </p>
                </div>
            </div>
        </div>
    </div>
    -->
    
    <!-- Quick Action Cards -->
    <h3 style="color: #333; margin-bottom: 20px; font-size: 18px; font-weight: 600;">ğŸ“‹ Quick Actions</h3>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-bottom: 30px;">
        <!-- POS Transactions Card -->
        <a href="{% url 'pos_list' %}" class="dashboard-action-card">
            <div class="card-header" style="background: linear-gradient(135deg, #da553d 0%, #fa4e23 100%); cursor: pointer;">
                <h3 style="margin: 0; display: flex; align-items: center; gap: 10px; font-size: 18px;">ğŸ’³ POS Transactions</h3>
            </div>
            <div class="card-body" style="text-align: center; padding: 30px;">
                <p style="color: #666; margin-bottom: 15px;">Create and manage sales transactions with customers</p>
                <span style="display: inline-block; color: white; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 8px 16px; border-radius: 6px; font-size: 14px; font-weight: 600;">Open â†’</span>
            </div>
        </a>
        
        <!-- Customers Card -->
        <a href="{% url 'customer_list' %}" class="dashboard-action-card">
            <div class="card-header" style="background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%); cursor: pointer;">
                <h3 style="margin: 0; display: flex; align-items: center; gap: 10px; font-size: 18px;">ğŸ‘¥ Customers</h3>
            </div>
            <div class="card-body" style="text-align: center; padding: 30px;">
                <p style="color: #666; margin-bottom: 15px;">Add, edit, and manage customer information</p>
                <span style="display: inline-block; color: white; background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%); padding: 8px 16px; border-radius: 6px; font-size: 14px; font-weight: 600;">Open â†’</span>
            </div>
        </a>
        
        <!-- User Management Card -->
        {% if user.is_staff or user.is_manager %}
        <a href="{% url 'user_list' %}" class="dashboard-action-card">
            <div class="card-header" style="background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%); cursor: pointer;">
                <h3 style="margin: 0; display: flex; align-items: center; gap: 10px; font-size: 18px;">ğŸ‘¨â€ğŸ’¼ User Management</h3>
            </div>
            <div class="card-body" style="text-align: center; padding: 30px;">
                <p style="color: #666; margin-bottom: 15px;">Add, edit, and manage system users</p>
                <span style="display: inline-block; color: white; background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%); padding: 8px 16px; border-radius: 6px; font-size: 14px; font-weight: 600;">Open â†’</span>
            </div>
        </a>
        {% endif %}
        
        <!-- Item Management Card -->
        <a href="{% url 'item_list' %}" class="dashboard-action-card">
            <div class="card-header" style="background: linear-gradient(135deg, #e743a3 0%, #ff32a3 100%); cursor: pointer;">
                <h3 style="margin: 0; display: flex; align-items: center; gap: 10px; font-size: 18px;">ğŸ“¦ Item Management</h3>
            </div>
            <div class="card-body" style="text-align: center; padding: 30px;">
                <p style="color: #666; margin-bottom: 15px;">Manage items, pricing, and inventory</p>
                <span style="display: inline-block; color: white; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 8px 16px; border-radius: 6px; font-size: 14px; font-weight: 600;">Open â†’</span>
            </div>
        </a>
        
        <!-- Reports Card -->
        <div class="dashboard-action-card" style="opacity: 0.6; cursor: not-allowed;">
            <div class="card-header" style="background: linear-gradient(135deg, #5bbeec 0%, #8deeff 100%);">
                <h3 style="margin: 0; display: flex; align-items: center; gap: 10px; font-size: 18px;">ğŸ“Š Reports</h3>
            </div>
            <div class="card-body" style="text-align: center; padding: 30px;">
                <p style="color: #999; margin-bottom: 15px;">Sales reports and analytics</p>
                <span style="display: inline-block; color: #999; background: #e0e0e0; padding: 8px 16px; border-radius: 6px; font-size: 14px; font-weight: 600;">Wala Pay Update</span>
            </div>
        </div>
    </div>
</div>

<style>
body {
    background: 
        linear-gradient(135deg, rgba(102, 126, 234, 0.95) 0%, rgba(118, 75, 162, 0.95) 100%),
        url('/static/images/background.png') center/cover fixed;
    background-blend-mode: overlay;
    min-height: 100vh;
}

.pos-container-modern {
    background: rgba(255, 255, 255, 0.98);
    border-radius: 15px;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
}

.dashboard-action-card {
    text-decoration: none;
    color: inherit;
    display: block;
    border-radius: 10px;
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
    background: white;
}

.dashboard-action-card:hover {
    transform: translateY(-8px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
}

.dashboard-action-card:hover .card-header {
    background: linear-gradient(135deg, #764ba2 0%, #667eea 100%) !important;
}
</style>
{% endblock %}
